# Component Architecture Overview

## Component Hierarchy

```
AuthWrapper (Client)
â”œâ”€â”€ Navbar (Client)
â”‚   â”œâ”€â”€ Mobile (<768px)
â”‚   â”‚   â”œâ”€â”€ MobileNav (Sheet Drawer)
â”‚   â”‚   â”‚   â”œâ”€â”€ UserAvatar (lg)
â”‚   â”‚   â”‚   â”œâ”€â”€ Navigation Links
â”‚   â”‚   â”‚   â”œâ”€â”€ ThemeToggle
â”‚   â”‚   â”‚   â””â”€â”€ Sign Out Button
â”‚   â”‚   â”œâ”€â”€ Logo + Heart Icon
â”‚   â”‚   â””â”€â”€ UserAvatar (sm)
â”‚   â”‚
â”‚   â””â”€â”€ Desktop (â‰¥768px)
â”‚       â”œâ”€â”€ Logo + Heart Icon
â”‚       â”œâ”€â”€ Navigation Links (Horizontal)
â”‚       â”œâ”€â”€ ThemeToggle
â”‚       â””â”€â”€ DropdownMenu
â”‚           â”œâ”€â”€ UserAvatar (sm)
â”‚           â”œâ”€â”€ Username
â”‚           â”œâ”€â”€ Settings Link
â”‚           â””â”€â”€ Sign Out Button
â”‚
â””â”€â”€ MainLayout (Server)
    â””â”€â”€ Section (Server)
        â””â”€â”€ Grid | Container (Server)
            â””â”€â”€ Page Content
```

## Component Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AuthWrapper (Client)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                  Navbar (Client)                   â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  Mobile (<768px) â”‚    â”‚ Desktop (â‰¥768px) â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - Hamburger     â”‚    â”‚ - Horizontal Nav â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - Logo          â”‚    â”‚ - Theme Toggle   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - Avatar        â”‚    â”‚ - User Dropdown  â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              MainLayout (Server)                   â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚          Section (Server)                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚    Grid/Container (Server)             â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚      Page Content                â”‚  â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  - Cards                         â”‚  â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  - Forms                         â”‚  â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  - Data displays                 â”‚  â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Mobile Navigation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Mobile Navbar (h-16, sticky)           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Menu   â”‚  â”‚ â¤ï¸ Today I   â”‚  â”‚  Avatar    â”‚  â”‚
â”‚  â”‚ Button â”‚  â”‚   Helped     â”‚  â”‚  (sm)      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚       â”‚                                          â”‚
â”‚       â”‚ Tap/Click                                â”‚
â”‚       â†“                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚      MobileNav Sheet Drawer            â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚
â”‚  â”‚  â”‚  Header                          â”‚  â”‚     â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  Username            â”‚  â”‚     â”‚
â”‚  â”‚  â”‚  â”‚ Avatar â”‚  "Keep spreading     â”‚  â”‚     â”‚
â”‚  â”‚  â”‚  â”‚  (lg)  â”‚   kindness"          â”‚  â”‚     â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚  â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚     â”‚
â”‚  â”‚  Navigation Links                       â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚     â”‚
â”‚  â”‚  â”‚ ğŸ  Home                            â”‚ â”‚     â”‚
â”‚  â”‚  â”‚    View your daily challenge       â”‚ â”‚     â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚     â”‚
â”‚  â”‚  â”‚ ğŸ‘¥ Feed                            â”‚ â”‚     â”‚
â”‚  â”‚  â”‚    See what others are doing       â”‚ â”‚     â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚     â”‚
â”‚  â”‚  â”‚ ğŸ† Achievements                    â”‚ â”‚     â”‚
â”‚  â”‚  â”‚    Track your progress             â”‚ â”‚     â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚     â”‚
â”‚  â”‚  â”‚ âš™ï¸ Settings                        â”‚ â”‚     â”‚
â”‚  â”‚  â”‚    Manage your account             â”‚ â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚     â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚     â”‚
â”‚  â”‚  Bottom Actions                         â”‚     â”‚
â”‚  â”‚  Theme: [Toggle Button]                 â”‚     â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚     â”‚
â”‚  â”‚  [ğŸšª Sign Out]                          â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Desktop Navigation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Desktop Navbar (h-16, sticky)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â¤ï¸ Today I     â”‚  â”‚  [ğŸ ] [ğŸ‘¥] [ğŸ†] [âš™ï¸]    â”‚  â”‚ [ğŸŒ“] [ğŸ‘¤] â”‚ â”‚
â”‚  â”‚   Helped       â”‚  â”‚   Navigation Links       â”‚  â”‚  Theme Userâ”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                            â”‚       â”‚
â”‚                                                      Click â”‚       â”‚
â”‚                                                            â†“       â”‚
â”‚                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                              â”‚  User Dropdown   â”‚  â”‚
â”‚                                              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚                                              â”‚  â”‚ Username   â”‚  â”‚  â”‚
â”‚                                              â”‚  â”‚ "Keep      â”‚  â”‚  â”‚
â”‚                                              â”‚  â”‚ spreading" â”‚  â”‚  â”‚
â”‚                                              â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚
â”‚                                              â”‚  â”‚âš™ï¸ Settings â”‚  â”‚  â”‚
â”‚                                              â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚
â”‚                                              â”‚  â”‚ğŸšª Sign Out â”‚  â”‚  â”‚
â”‚                                              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow

### Avatar Generation
```
Username Input
    â†“
hashString(username)
    â†“
Select Color Palette (1 of 10)
    â†“
Generate SVG with Gradient
    â†“
Convert to Data URL
    â†“
UserAvatar Component
    â†“
Display with Fallback to Initials
```

### Navigation State
```
User clicks navigation link
    â†“
usePathname() detects route change
    â†“
Update active route highlighting
    â†“
MobileNav: useEffect closes drawer
    â†“
Navigate to new page
```

### Theme Toggle
```
User clicks theme toggle
    â†“
next-themes updates theme
    â†“
CSS variables update
    â†“
Components re-render with new theme
```

## Responsive Behavior

### Breakpoint: < 768px (Mobile)
- Show: Hamburger menu, Logo, Avatar (sm)
- Hide: Navigation links, Theme toggle, User dropdown
- Layout: Flex row, space-between
- Height: 64px (h-16)

### Breakpoint: â‰¥ 768px (Desktop)
- Hide: Hamburger menu
- Show: Navigation links, Theme toggle, User dropdown
- Layout: Flex row with gaps
- Height: 64px (h-16)

## Component Communication

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AuthWrapper  â”‚ â”€â”€(username, handleSignOut)â”€â”€> â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚ Navbar  â”‚
                                                 â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                                                      â”‚
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚                                            â”‚
                           â†“                                            â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  MobileNav   â”‚                            â”‚ DropdownMenu â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚                                           â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â†“
                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                  â”‚  UserAvatar   â”‚
                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â†‘
                                          â”‚
                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                                  â”‚ avatar-utils   â”‚
                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## State Management

### Client State (React State)
- `MobileNav`: `open` (boolean) - Sheet open/close
- `DropdownMenu`: Managed internally by Radix UI

### Router State (Next.js)
- `usePathname()`: Current route for active highlighting
- Auto-navigation via `<Link>` components

### Theme State (next-themes)
- `theme`: 'light' | 'dark' | 'system'
- Persisted to localStorage
- System preference detection

## File Dependencies

```
navbar.tsx
â”œâ”€â”€ mobile-nav.tsx
â”‚   â”œâ”€â”€ sheet.tsx (@radix-ui/react-dialog)
â”‚   â”œâ”€â”€ user-avatar.tsx
â”‚   â”‚   â”œâ”€â”€ avatar.tsx (@radix-ui/react-avatar)
â”‚   â”‚   â””â”€â”€ avatar-utils.ts
â”‚   â”œâ”€â”€ separator.tsx (@radix-ui/react-separator)
â”‚   â”œâ”€â”€ theme-toggle.tsx
â”‚   â””â”€â”€ button.tsx
â”œâ”€â”€ user-avatar.tsx (same as above)
â”œâ”€â”€ theme-toggle.tsx
â”œâ”€â”€ dropdown-menu.tsx (@radix-ui/react-dropdown-menu)
â””â”€â”€ button.tsx

main-layout.tsx
â””â”€â”€ utils.ts (cn function)

page.tsx
â”œâ”€â”€ main-layout.tsx
â”œâ”€â”€ auth-wrapper.tsx
â”‚   â””â”€â”€ navbar.tsx (see above)
â””â”€â”€ card.tsx
```

## Performance Characteristics

### Server Components (Fast, No JS)
- MainLayout
- Section
- Grid
- Container

### Client Components (Interactive)
- Navbar (~8KB JS)
- MobileNav (~12KB JS)
- UserAvatar (~3KB JS)
- Theme Components (~5KB JS)

### Total Client JS: ~30KB (gzipped)

### Rendering Strategy
1. Server: Generate static HTML for layout
2. Client: Hydrate interactive components
3. Route: Stream new content on navigation

## Accessibility Features

### Keyboard Navigation
- Tab: Navigate through interactive elements
- Enter/Space: Activate buttons and links
- Escape: Close sheet drawer and dropdown

### Screen Reader Support
- `aria-label` on buttons
- `<nav>` semantic element
- `role` attributes where needed
- Visual hidden text for context

### Focus Management
- Visible focus indicators
- Focus trap in drawer when open
- Auto-focus on close button
- Restored focus on drawer close

## Testing Points

### Unit Tests
- Avatar color generation consistency
- Initials extraction edge cases
- Component prop validation

### Integration Tests
- Navigation flow (open drawer â†’ click link â†’ close drawer)
- Theme toggle persistence
- Sign out functionality
- Active route highlighting

### E2E Tests
- Complete user journey
- Cross-browser compatibility
- Touch gestures (mobile)
- Keyboard-only navigation

### Visual Regression
- Screenshot comparison at breakpoints
- Theme switching
- Animation states

---

This architecture provides a scalable, performant, and accessible navigation system for the "Today I Helped" platform.
